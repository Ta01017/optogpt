# 上周工作

## 环境配置与项目熟悉

1. 完成公司开发环境的初步配置，包括 Python、依赖库及ai平台镜像的搭建；

2. 阅读 OptoGPT 相关论文与代码，理解其基本实现原理与技术路线

   重点分析：

   光谱 → 结构 的逆设计建模方式；

    Transformer 输入输出设计；

   数据集构建方式

   镀膜相关材料调研与分析

## 调研常用的镀膜材料以及一些新型的材料

   将optogpt的数据集替换成通用度更高的数据（来源refractiveindex）

   共搜集：23种材料的nk数据（包含玻璃基底）

   ![image-20260109091827873](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260109091827873.png)
## 设计数据集构造方案
1. 材料选择

  基底：bk5玻璃 ['Glass_Substrate']

  低折射率材料： ['MgF2', 'SiO2', 'ZnO']

  中折射率材料：['MgO', 'Si3N4']

  高折射率材料：['HfO2', 'TiO2', 'Ta2O5', 'AlN', 'Nb2O5', 'ZnS', 'ZnSe']

  超高折射率材料： ['Si', 'a-Si'],

  有损/吸收型材料： ['ITO', 'GaSb', 'Ge']

  金属材料： ['Ag', 'Au', 'Al', 'Al2O3', 'TiN']

  Al2O3 <30 nm防止全吸收


2. 生成划分：

  1. 第一类：规则结构 10% (约 100w)

     包括三种核心结构：

     1. 布拉格反射镜 (DBR)：

        特征图像：
        ![image-20260107154606191](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154606191.png)

        规则：所有层的光学厚度（$n \times d$）必须等于中心波长（$\lambda_c$）的 $1/4$。

        作用：产生一个宽带的“禁带”（光透不过去）。屏蔽掉背景噪声波段。


     2. 法布里-珀罗腔 (Fabry-Perot): 

        特征图像：

        ![image-20260107154630607](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154630607.png)

        规则：Mirror - Spacer - Mirror

        作用:在宽带反射背景上开一个“窄窗口”，让特定波长的光透过去。探测塑料的某个特征峰


     3. 多腔滤波器 (Multi-Cavity): 

        特征图像：![image-20260107154659700](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154659700.png)



        规则：将多个 FP 腔串联起来，中间用耦合层连接。 

        结构：Mirror - Spacer1 - Mirror - Spacer2 - Mirror

        作用：塑料的光谱可能会有多个峰。多腔结构可以产生“梳状”光谱，同时匹配多个特征。


     4. 增透膜（AR Coating）

        光学图像：
        ![image-20260107154718186](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154718186.png)

        规则：单层 AR：一层 $\lambda/4$ 的 MgF2或 SiO2。

        V-Coat (V型 AR)：Low (λ/4) - High  双层结构，针对单点波长极致增透。

        宽带 AR (BBAR)：Low(λ/4) - High(λ/2) - Low(λ/4) 三层结构，针对宽波段增透。

        作用：让模型学会消除反射


     结构组合

     其中80%纯粹结构，20%组合结构

     1. 组合一：FP + AR (高透滤光片) 

     2. 组合二：Long-Pass + Band-Pass (截止+带通)

        前半部分 (DBR)：设计一个反射中心在 1200nm 的 DBR，挡住短波。

        后半部分 (FP)：设计一个中心在 1660nm 的 FP，提取长波特征。

        作用：让模型学会挡住不用的，放出需要的

     3. 组合三：Multi-Cavity + Chirp (宽带多峰)

        结构：把多腔结构的厚度做一定线性变化。

        目的：产生平顶波形，而不是尖锐的针状波形，这更有利于覆盖塑料较宽的吸收峰。

      

  2. 第二类：局部随机30% (约 300w)

     在规则结构上加 20%-50% 的剧烈抖动，或者 线性/非线性变化结构

  3. 第三类：广义随机60% (约 600w)

     完全随机的厚度、随机的层数、随机的材料顺序（但保持交替）。同时注意去重，防止与第一、第二类重复

## 针对DBR，设计DBR专用数据集
1. 基于 λ/4 条件的周期性 H/L 结构生成；
2. 多种 pairs 数（6–10 pairs），覆盖不同反射强度，包括业内常用的DBRpair组合，以及符合DBR特性的探索性组合；
3. 包含标准 DBR 与带扰动的探索性 DBR；
4. 编写DBR数据集生成代码，包含从nk数据集中构造pairs，业内常用pairs，TMM随机构造数据集
5. 包含检验机制：
   结构层面：材料交替性与 λ/4 厚度合理性检查；
   光谱层面：stop-band 存在性与反射峰值验证；
   ![image-20260109092619069](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260109092619069.png)

# 这周工作
## 完成DBR模型训练与验证
## 其他结构模型的数据生成，训练与验证
## 如何验证成功，根据数据生成方案，进行整体的模型训练
## 微纳任务
