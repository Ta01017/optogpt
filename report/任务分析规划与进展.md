## 塑料分选镀膜与微纳

### 镀膜任务

#### 镀膜材料选择：

数据库：https://refractiveindex.info/



optogpt选择：'Al', 'Al2O3', 'AlN', 'Ge', 'HfO2', 'ITO', 'MgF2', 'MgO', 'Si', 'Si3N4', 'SiO2', 'Ta2O5', 'TiN', 'TiO2', 'ZnO', 'ZnS', 'ZnSe'

原因：包含了高折射率（如 $TiO_{2}$、$Si$、$Ge$）、中折射率（如 $Al_{2}O_{3}$、$HfO_{2}$）和低折射率材料（如 $SiO_{2}$、$MgF_{2}$）。这种折射率梯度的覆盖是实现宽带反射、滤波和吸收的基础。引入金属材料（如 $Al$、金属氮化物 $TiN$）是为了实现强反射器或吸收器（如完美吸收体）。

塑料分选任务：检测不同聚合物（如 PET, HDPE, PP）在该波段独特的“光谱指纹”

**超高折射率**$GaSb$, $a-Si:H$针对塑料特征峰（如 1215nm, 1730nm）提供超窄通带。**中高折射率**$As_{2}S_{3}$, $Sc_{2}O_{3}$提高分选机在处理斜入射光线时的光谱稳定性（角度灵敏度）。**低折射率**$YF_{3}$, $BaF_{2}$​减少膜系的总吸收，提升弱信号下的信噪比。



**超高反差对**$PbTe$ / $BaF_{2}$针对塑料特征峰（如 1730nm）产生极窄的反射陷阱。**梯度折射率**$PbSe$ / $As_{2}S_{3}$ / $SiO_{2}$减少光谱中的副振荡（Side-lobes），提高识别纯度。**宽带透过型**$GaSb$ / $YF_{3}$设计覆盖整个 900-1700nm 的分步滤波片。

```python
[
 #OptoGPT 原有材质
'Al', 'Al2O3', 'AlN', 'Ge', 'HfO2', 'ITO', 'MgF2', 'MgO', 'Si', 'Si3N4', 'SiO2', 'Ta2O5', 'TiN', 'TiO2', 'ZnO', 'ZnS', 'ZnSe', 
 #新增针对 900-1700nm  'Sb2O3'
'Ag','PbTe', 'PbSe', 'GaSb', 'a-Si', 'As2S3', , 'Sc2O3', 'BaF2', 'YF3', 'CaF2'
]


```





#### 镀膜数据处理： 



ZnS的k只到1.0微米（需要处理）

PbTe  PbSe ，BaF2 没有k  

CaF2 只到1

Sc2O3 只到1.2

 

Sb2O3 YF3,As2S3没有

Y2N3  MgO  MgF2  Al Al2O3

HfO2  Si3N4

数据库中导出csv文件，python处理分块的数据格式，生成和optogpt类似的四列csv

在900-1700 对n进行3次插值，对k进行一次插值，先补充数据  （提前处理，减少后续运行时间）



1.首先按照低中高（可见，红外分开），对镀膜材料进行划分

2.了解目前的多层镀膜是什么结构，有什么规律，按一定比例去生成，（可能有一定的规律，每个规律可以有不同的比例，去重），随机生成的数据也需要占比一部分（去重）



#### 数据集具体生成方案

##### 材料选择

基底：bk5玻璃 ['Glass_Substrate']

低折射率材料： ['MgF2', 'SiO2', 'ZnO']

中折射率材料：['MgO', 'Si3N4']

高折射率材料：['HfO2', 'TiO2', 'Ta2O5', 'AlN', 'Nb2O5', 'ZnS', 'ZnSe']

超高折射率材料： ['Si', 'a-Si'],

有损/吸收型材料： ['ITO', 'GaSb', 'Ge']

金属材料： ['Ag', 'Au', 'Al', 'Al2O3', 'TiN']

Al2O3 <30 nm防止全吸收

##### 生成划分：

##### 第一类：规则结构 10% (约 100w)

包括三种核心结构：

###### 布拉格反射镜 (DBR)：

特征图像：
![image-20260107154606191](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154606191.png)

规则：所有层的光学厚度（$n \times d$）必须等于中心波长（$\lambda_c$）的 $1/4$。

作用：产生一个宽带的“禁带”（光透不过去）。屏蔽掉背景噪声波段。

###### 法布里-珀罗腔 (Fabry-Perot): 

特征图像：

![image-20260107154630607](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154630607.png)

规则：Mirror - Spacer - Mirror

作用:在宽带反射背景上开一个“窄窗口”，让特定波长的光透过去。探测塑料的某个特征峰

###### 多腔滤波器 (Multi-Cavity): 

特征图像：



规则：将多个 FP 腔![image-20260107154659700](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154659700.png)串联起来，中间用耦合层连接。 结构：Mirror - Spacer1 - Mirror - Spacer2 - Mirror

作用：塑料的光谱可能会有多个峰。多腔结构可以产生“梳状”光谱，同时匹配多个特征。

###### 增透膜（AR Coating）

光学图像：
![image-20260107154718186](C:\Users\liweitao\AppData\Roaming\Typora\typora-user-images\image-20260107154718186.png)

规则：单层 AR：一层 $\lambda/4$ 的 MgF2或 SiO2。

V-Coat (V型 AR)：Low (λ/4) - High  双层结构，针对单点波长极致增透。

宽带 AR (BBAR)：Low(λ/4) - High(λ/2) - Low(λ/4) 三层结构，针对宽波段增透。

作用：让模型学会消除反射

###### 结构组合

其中80%纯粹结构，20%组合结构

组合一：FP + AR (高透滤光片) 

组合二：Long-Pass + Band-Pass (截止+带通)

- 前半部分 (DBR)：设计一个反射中心在 1200nm 的 DBR，挡住短波。
- 后半部分 (FP)：设计一个中心在 1660nm 的 FP，提取长波特征。
- 作用：让模型学会挡住不用的，放出需要的

组合三：Multi-Cavity + Chirp (宽带多峰)

- 结构：把多腔结构的厚度做一定线性变化。
- 目的：产生平顶波形，而不是尖锐的针状波形，这更有利于覆盖塑料较宽的吸收峰。



##### 第二类：局部随机30% (约 300w)

在规则结构上加 20%-50% 的剧烈抖动，或者 线性/非线性变化结构

##### 第三类：广义随机60% (约 600w)

完全随机的厚度、随机的层数、随机的材料顺序（但保持交替）。同时注意去重，防止与第一、第二类重复



